<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="css/main.css">
<link href="css/gijgo.min.css" rel="stylesheet" type="text/css" />
<!-- Font-icon css-->
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<title>Registro de Denuncias</title>
</head>

<body>
<div class="container">
	<div class="tile">
	  <div class="tile-title-w-btn line-head">
	    <h3 class="title mb-3 ">Denuncias Registradas - OD-01</h3>
	    <p><input id="fechaDenuncia" class="form-control"></p>  
			
        </div>
		
	  
	  <div class="card mb-3 border-primary">
		<div class="card-header bg-primary text-white font-weight-bold">DENUNCIANTE</div>
			<div class="card-body">
				<div class="row">
					<div class="col-md-4">
						<div class="form-group">
							<label for="tdocumento">Tipo de Documento</label>
							<select id="tdocumento" class="form-control" aria-describedby="tdocumentoHelp">
								<option>Ninguno</option>
								<option>DNI</option>
								<option>Carnet de Extranjería</option>
							</select>
							<small class="form-text text-muted" id="tdocumentoHelp">Seleccione Ninguno si la denuncia es ANÓNIMA</small>
						</div>
					</div>
					<div class="col-md-5">
						<div class="form-group">
                    		<label for="tdocumento">Nro de Documento</label>
                    		<input class="form-control" id="nrodocumento" type="number" aria-describedby="nrodocumentoHelp" placeholder="Ingrese el Número de Documento">
							<small class="form-text text-muted" id="nrodocumentoHelp">Ingres el Nro de Documento de Identidad seleccionado.</small>
                  		</div>
					</div>
				  <div class="col-md-3">
					  <div class="form-group">
							<label class="text-white">.</label>
						<button class="btn btn-primary form-control"><i class="fa fa-search" aria-hidden="true"></i> Encontrar</button>
							<small class="form-text text-muted" id="tdocumentoHelp2">Consulta a la Base de Datos</small></div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-4">
						<div class="form-group">
							<label for="nombreDenunciante">Nombre</label>
							<input class="form-control" id="nombreDenunciante" type="text" aria-describedby="nombreDenuncianteHelp" placeholder="Nombre">
							<small class="form-text text-muted" id="nombreDenuncianteHelp">Ingrese el(los) Nombres del Denunciante.</small>
						</div>
					</div>
					<div class="col-md-4">
						<div class="form-group">
							<label for="nombreDenunciante">Apellido Paterno</label>
							<input class="form-control" id="apepatDenunciante" type="text" aria-describedby="apepatDenuncianteHelp" placeholder="Apellido Paterno">
							<small class="form-text text-muted" id="apepatDenuncianteHelp">Ingrese el Apellido Paterno del Denunciante.</small>
						</div>
					</div>
					<div class="col-md-4">
						<div class="form-group">
							<label for="nombreDenunciante">Apellido Materno</label>
							<input class="form-control" id="apematDenunciante" type="text" aria-describedby="apematDenuncianteHelp" placeholder="Apellido Materno">
							<small class="form-text text-muted" id="apematDenuncianteHelp">Ingrese el Apellido Materno del Denunciante.</small>
						</div>
					</div>
				</div>
			</div>
		</div> <!-- Fin Card Denunciante -->

		<div class="card mb-3 border-primary">
			<div class="card-header bg-primary text-white card-header">
				<div class="d-flex justify-content-between align-items-center">
      <div class="card-title mb-0 font-weight-bold">DENUNCIADO (S)</div>
<button class="btn btn-primary icon-btn btn-outline-light" data-toggle="modal" data-target="#denunciadoModal"><i class="fa fa-plus"></i>Agregar</button>
				</div>
			</div>
			<div class="card-body">
				<div class="row">
					<div class="col-12 table-responsive">
						
						<table id="tablaDenunciados" class="table table-striped table-hover table-bordered">
							<thead>
								<tr>
									<th>CIP</th>
									<th>Grado</th>
									<th>Apellidos y Nombres</th>
									<th>Unidad</th>
									<th>Quitar</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
						
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<label for="adicionalDenunciados">Información Adicional</label>
							<textarea class="form-control" id="adicionalDenunciados" aria-describedby="adicionalDenunciadosHelp"></textarea>
							<small class="form-text text-muted" id="adicionalDenunciadosHelp">Ingrese Información adicional que ayude a identificar al personal implicado.</small>
						</div>
					</div>
				</div>
				
				
				<div class="modal  fade" id="denunciadoModal" tabindex="-1" role="dialog" aria-labelledby="denunciadoModalLabel" aria-hidden="true">	
              
                <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="denunciadoModalLabel">Agregar Denunciado</h5>
                      <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    </div>
                    <div class="modal-body">
                      	<div class="row mb-2">
							<div class="col-md-3">
								<label>CIP</label>
								<input class="form-control"/>
							</div>
							<div class="col-md-3">
								<label>DNI</label>
								<input class="form-control"/>
							</div>

							<div class="col-md-6">
								<label>Nombres</label>
								<input class="form-control"/>
							</div>
							
							
						</div>
						<div class="row">
							<div class="col-md-5">
								<label>Apellido Paterno</label>
								<input class="form-control"/>
							</div>
							<div class="col-md-5">
								<label>Apellido Materno</label>
								<input class="form-control"/>
							</div>
							<div class="col-md-2">
								<label> .</label>
								<button class="btn btn-primary form-control"> <i class="fa fa-search" aria-hidden="true"></i>Encontrar</button>
							</div>
							
							
						</div>
						
						<div class="row mt-3 mb-2">
						 	<div class="col-md-12 table-responsive">
								LISTA DE PERSONAL
							</div>
						</div>
						
						<div class="row">
						 	<div class="col-md-12 table-responsive">
								<table id="tablaBusquedaDenunciado" class="table table-bordered small table-hover table-striped">
									<thead>
										<tr>
											<th>CIP</th>
											<th>DNI</th>
											<th>GRADO</th>
											<th>SITUACIÓN</th>
											<th>APELLIDOS Y NOMBRES</th>
											<th>UNIDAD</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>391305 </td>
											<td>43795932</td>
											<td>CAP SPNP</td>
											<td>ACTIVIDAD</td>
											<td>LLAMPAZO MANDAMIENTO LUIS RICARDO</td>
											<td>IG SEC UNITIC</td>
										</tr>
										<tr>
											<td>00391305 </td>
											<td>00795932</td>
											<td>SOT2 SPNP</td>
											<td>ACTIVIDAD</td>
											<td>LLAMPAZO CASTILLO LUIS ROMULO</td>
											<td>IG SEC UNITIC</td>
										</tr>
										<tr>
											<td>00221305 </td>
											<td>43795932</td>
											<td>ST2 SPNP</td>
											<td>ACTIVIDAD</td>
											<td>LLAMPAZO CASTILLO SILVESTRE</td>
											<td>IG SEC UNITIC</td>
										</tr>
									</tbody>
								</table>
							</div>
							
						</div>
                    </div>
                    <div class="modal-footer">
                      <button id="addDenunciado" class="btn btn-primary" type="button">Agregar</button>
                      <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
                    </div>
                  </div>
                </div>
              </div>
				
				
				
			</div>
		</div>  <!-- Fin Card Denunciados -->
		<div class="card mb-3 border-primary">
			<div class="card-header bg-primary text-white font-weight-bold">DENUNCIA</div>
			<div class="card-body">
				<div class="row">
					<div class="col-md-3">
						<div class="form-group">
							<label for="departamentoDenuncia">Departamento</label>
							<select class="form-control" id="departamentoDenuncia" aria-describedby="departamentoDenunciaHelp">
								<option>Lima</option>
								<option>Tacna</option>
							</select>
							<small class="form-text text-muted" id="departamentoDenunciaHelp">Departamento de Ocurrencia.</small>
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="provinciaDenuncia">Provincia</label>
							<select class="form-control" id="provinciaDenuncia" aria-describedby="provinciaDenunciaHelp">
								<option>Lima</option>
								<option>Tacna</option>
							</select>
							<small class="form-text text-muted" id="provinciaDenunciaHelp">Provincia de Ocurrencia.</small>
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="distritoDenuncia">Distrito</label>
							<select class="form-control" id="distritoDenuncia" aria-describedby="distritoDenunciaHelp">
								<option>Lima</option>
								<option>Tacna</option>
							</select>
							<small class="form-text text-muted" id="distritoDenunciaHelp">Distrito de Ocurrencia.</small>
						</div>
					</div>
					<div class="col-md-3">
						<div class="form-group">
							<label for="comisariaDenuncia">Comisaría</label>
							<select class="form-control" id="comisariaDenuncia" aria-describedby="comisariaDenunciaHelp">
								<option>Lima</option>
								<option>Tacna</option>
							</select>
							<small class="form-text text-muted" id="comisariaDenunciaHelp">Comisaría de Jurisdicción de Ocurrencia.</small>
						</div>
					</div>
				</div>
				<div class="row">
					
					<div class="col-md-9">
						<div class="form-group">
							<label for="direcciónDenuncia">Dirección</label>
							<input class="form-control" id="direccionDenuncia" type="text" aria-describedby="direccionDenunciaHelp" placeholder="Dirección">
							<small class="form-text text-muted" id="direccionDenunciaHelp">Dirección de la Ocurrencia.</small>
						</div>
					</div>
					<div class="col-md-3">
					  <div class="form-group">
							<label for="direcciónDenuncia">Fecha de la ocurrencia</label>
						  	<input id="fechaOcurrencia" class="form-control" aria-describedby="direccionDenunciaHelp">
							<small class="form-text text-muted" id="direccionDenunciaHelp2">Fecha de la Ocurrencia.</small></div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<label for="referenciadirecciónDenuncia">Referencia</label>
							<textarea class="form-control" id="referenciadireccionDenuncia" aria-describedby="referenciadireccionDenunciaHelp" placeholder="Referencia de la Dirección"></textarea>
							
							<small class="form-text text-muted" id="referenciadireccionDenunciaHelp">Referencia que ayude a indentificar la Dirección de la Ocurrencia.</small>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<label for="descripcionDenuncia">Descripcion de la Denuncia</label>
							<textarea class="form-control" id="descripcionDenuncia" aria-describedby="descripcionDenunciaHelp" placeholder="Descripcion detallada de la denuncia a realizar" rows="4"></textarea>
							
							<small class="form-text text-muted" id="descripcionDenunciaHelp">Describa de manera detallada la denuncia presentada por el ciudadano de manera que sea de ayuda al investigador para su análisis.</small>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<label for="motivoDenuncia">Motivo (s) de la Infracción</label>
							<select class="form-control" id="motivoDenuncia" multiple="" style="width: 100%">
								<optgroup label="Selecciona el (los) motivos de la Denuncia">
								  <option>Violencia Familiar</option>
								  <option>Perdida de Arma de Fuego</option>
								  <option>Ebriedad</option>
								  <option>Corrupcion</option>
								</optgroup>
							</select>
							<small class="form-text text-muted" id="motivoDenunciaHelp">Dirección de la Ocurrencia.</small>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="card mb-3 border-info">
			
			
			<div class="card-header bg-info text-white card-header">
				<div class="d-flex justify-content-between align-items-center">
      				<div class="card-title mb-0 font-weight-bold">AGRAVIADO (S)</div>
					<button class="btn btn-primary icon-btn btn-outline-light" data-toggle="modal" data-target="#agraviadoModal"><i class="fa fa-plus"></i>Agregar</button>
				</div>
			</div>
			
			<div class="card-body">
				<div class="row">
					<div class="col-12 table-responsive">
						
						<table class="table table-striped table-hover table-bordered" id="tablaAgraviados">
							<thead>
								<tr>
									<th>Documento de Identidad</th>
									<th>Apellidos y Nombres</th>
									<th>Sexo</th>
									<th>Parentesco</th>
								  <th>Procendencia</th>
									<th>Quitar</th>
								</tr>
							</thead>
							<tbody>
								
						  </tbody>
						</table>
						
					</div>
					
					


			<div  class="modal fade" id="agraviadoModal" tabindex="-1" role="dialog" aria-labelledby="agraviadoModalLabel" aria-hidden="true">	
              
                <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="agraviadoModalLabel">Agregar Agraviado</h5>
                      <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    </div>
                    <div class="modal-body">
                      	<div class="row mb-2">
							<div class="col-md-3">
								<label>Tipo de Documento</label>
								<select id="tdocumentoagrav" class="form-control">
									<option>D.N.I</option>
									<option>C.E.</option>
									<option>Ninguno</option>
								</select>
							</div>
							<div class="col-md-3">
								<label>Nro de Documento</label>
								<input id="nrodocumentoagrav" type="number" class="form-control"/>
							</div>
						  <div class="col-md-6">
							<label>Nombres y Apellidos</label>
							<input id="nombreapeagrav" class="form-control" required/>
						  </div>
							
						</div>
						<div class="row">
							<div class="col-md-4">
							<label>Sexo</label>
							  <select id="sexoagrav" class="form-control">
									<option >Masculino</option>
									<option>Femenino</option>
								</select>
							</div>
						  <div class="col-md-4">
							<label>Procedencia</label>
								<select id="procedenciaagrav" class="form-control">
									<option>Civil</option>
									<option>Policial</option>
									<option>Fuerzas Armadas</option>
								</select>
							</div>
						  
						  <div class="col-md-4">
							<label>Parentesco</label>
								<select id="parentescoagrav" class="form-control">
									<option>Ninguno</option>
									<option>Conyugue</option>
									<option>Hijo(a)</option>
								</select>
							</div>
						</div>
                    </div>
                    <div class="modal-footer">
                      <button id="addAgraviado" class="btn btn-primary" type="button">Agregar</button>
                      <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
                    </div>
                  </div>
                </div>
              </div>


					
					
				</div>
			</div>
		</div>
		<div class="card">
			<div class="card-body align-self-end">
				<button class="btn btn-secondary">Cancelar</button>
				<button class="btn btn-primary">Registrar Denuncia</button>
			</div>
		</div>
	</div> <!-- Fin Tile -->
</div>	<!-- Fin Container -->
<script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
	 <script type="text/javascript" src="js/plugins/select2.min.js"></script>
	<script src="js/plugins/gijgo.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/plugins/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="js/plugins/dataTables.bootstrap.min.js"></script>
	
	<script src="js/main.js"></script> 
<script type="text/javascript">
$(document).ready(function() {	
	var tablaBusquedaDenunciado = $('#tablaBusquedaDenunciado').DataTable({
		"searching"	: false,
        "ordering": false,
        "info":     false,
		"language":{
    "sProcessing":     "Procesando...",
                "sLengthMenu":     "Mostrar _MENU_ registros",
                "sZeroRecords":    "No se encontraron resultados",
                "sEmptyTable":     "Ningún dato disponible en esta tabla =(",
                "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                "sInfoPostFix":    "",
                "sSearch":         "Buscar:",
                "sUrl":            "",
                "sInfoThousands":  ",",
                "sLoadingRecords": "Cargando...",
                "oPaginate": {
                    "sFirst":    "Primero",
                    "sLast":     "Último",
                    "sNext":     "Siguiente",
                    "sPrevious": "Anterior"
                },
                "oAria": {
                    "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                    "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                },
                "buttons": {
                    "copy": "Copiar",
                    "colvis": "Visibilidad"
                }
}
			
		});
	
	
       $('#motivoDenuncia').select2();
		$('#fechaDenuncia').datepicker({
            uiLibrary: 'bootstrap4',
			value:  Hoy()
        });
		$('#fechaOcurrencia').datepicker({
            uiLibrary: 'bootstrap4',
			value:  Hoy()
        });
	
		$("#addDenunciado").on('click',function(){
			
			var selectedRow = tablaBusquedaDenunciado.row('.selected').data();
			
			var nuevaFila="<tr><td>"+selectedRow[0]+"</td>"+
								"<td>"+selectedRow[2]+"</td>"+
								"<td>"+selectedRow[4]+"</td>"+
								"<td>"+selectedRow[5]+"</td>"+
								"<td><button class=\"eliminarDenunciado btn btn-danger\"><span class=\"fa fa-trash\"></span></button></td>"+
								"</tr>";
            $("#tablaDenunciados tbody").append(nuevaFila);
			$("#denunciadoModal").modal('hide');
		});
	
		$("#addAgraviado").on('click',function(){
            var nuevaFila="<tr><td>"+$('#agraviadoModal #tdocumentoagrav option:selected').text()+" | "+$('#agraviadoModal #nrodocumentoagrav').val()+"</td>"+
								"<td>"+$('#agraviadoModal #nombreapeagrav').val()+"</td>"+
								"<td>"+$('#agraviadoModal #sexoagrav').val()+"</td>"+
								"<td>"+$('#agraviadoModal #procedenciaagrav').val()+"</td>"+
								"<td>"+$('#agraviadoModal #parentescoagrav').val()+"</td>"+
								"<td><button class=\"eliminarAgraviado btn btn-danger\"><span class=\"fa fa-trash\"></span></button></td>"+
								"</tr>";
            $("#tablaAgraviados tbody").append(nuevaFila);
			$("#agraviadoModal").modal('hide');
			cleanAgravModal();
        });
	

	
	 	
	
		$('#tablaAgraviados tbody').on('click','.eliminarAgraviado',function(){
			//alert($('.eliminarAgraviado').index(this));
			$(this).parent().parent().remove();
		});
	
	
	$('#tablaDenunciados tbody').on('click','.eliminarDenunciado',function(){
			//alert($('.eliminarAgraviado').index(this));
			$(this).parent().parent().remove();
		});
	
		

	$("#tablaBusquedaDenunciado tbody").on('click','tr',function() {
   		var selected = $(this).hasClass("bg-info text-white selected");
    $("#tablaBusquedaDenunciado tr").removeClass("bg-info text-white selected");
    if(!selected)
        $(this).addClass("bg-info text-white selected");
});
	
	
	
	
	function Hoy(){
		var today = new Date();
		var dd = String(today.getDate()).padStart(2, '0');
		var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
		var yyyy = today.getFullYear();
		today = mm + '/' + dd + '/' + yyyy;
		return today;
	}
	
	function cleanAgravModal(){
		$('#agraviadoModal select[id="tdocumentoagrav"]').prop("selectedIndex", 0);
		$('#agraviadoModal #nrodocumentoagrav').val('');
		$('#agraviadoModal #nombreapeagrav').val('');
		$('#agraviadoModal select[id="sexoagrav"]').prop("selectedIndex", 0);
		$('#agraviadoModal select[id="procedenciaagrav"]').prop("selectedIndex", 0);
		$('#agraviadoModal select[id="parentescoagrav"]').prop("selectedIndex", 0);
	}
	
	function cleanDenuncModal(){}
	
});
    </script>
</body>
</html>

